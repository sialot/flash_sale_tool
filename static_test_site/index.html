<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>商品页</title>
<script>

     function generateTimeReqestNumber() {
          var date = new Date();
          return date.getFullYear().toString() + pad2(date.getMonth() + 1) + pad2(date.getDate()) + pad2(date.getHours()) + pad2(date.getMinutes()) + pad2(date.getSeconds());
     }
     function pad2(n) { return n < 10 ? '0' + n : n }

     var set = setTimeout(function(){
          document.getElementById("J_LinkBuy").style = "display:block;"
     },10000)


     function init(){
          document.getElementById("time").value = generateTimeReqestNumber()
     }
     var inter
     function start(){
          clearTimeout(set)
          clearInterval(inter)
          document.getElementById("J_LinkBuy").style = "display:none;"

          inter = setInterval(function(){
               var target = document.getElementById("time").value
               if(target <= generateTimeReqestNumber()){
                    document.getElementById("J_LinkBuy").style = "display:block;"
                    clearInterval(inter)
               }
               
               document.getElementById("test").innerHTML = generateTimeReqestNumber()

          }, 100)
     }

</script>
</head>
<body onload = "init()">
     <h1>商品详情<h1/>
     <input type="text" id="time" value="" />
     <input type="button" id="start" onclick="start()" value="计时开始"/>
     <a id="J_LinkBuy" style="display:none;" href="./order.html" >立即购买</a>
     <div id = "test"></div>
</body>
</html>
